[release-notes-current]
= Payara Server 4.1.2.172 Release Notes

[[release-highlights]]
== Release Highlights

This release has been based on https://javaee.github.io/glassfish/download[GlassFish Server Open Source 4.1.2]
which was released on March 31, 2017.

[bug-fixes]
== Bug Fixes

*   https://github.com/payara/Payara/pull/1440[PAYARA-798 - EJB Remote Calls Hang out contacting server with multiple network interfaces]
*   https://github.com/payara/Payara/pull/1440[PAYARA-902 - EJB Remote Multiple Calls Hangout when exceeding thread-pool max size]
*   https://github.com/payara/Payara/pull/1477[PAYARA-933 - Admin console shutdown.jsf has erroneous "submit query" button]
*   https://github.com/payara/Payara/pull/1479[PAYARA-992 - Monitor dynamic configuration not working for JMX monitoring]
*   https://github.com/payara/Payara/pull/1492[PAYARA-1085 - Making changes to the admin-thread-pool does not cause "Restart Required" to show in the admin console]
*   https://github.com/payara/Payara/pull/1512[PAYARA-1128 - Subset of buttons have a different look-and-feel]
*   https://github.com/payara/Payara/pull/1518[PAYARA-1200 - Injection doesn't work for beans created by CDI extensions]
*   https://github.com/payara/Payara/pull/1234[PAYARA-1223 - WELD-000163: Non-unique bean deployment identifier detected]
*   https://github.com/payara/Payara/pull/1392[PAYARA-1284 - JMX Monitoring service "set-monitoring-configuration" command should not require the "--enabled" option to be set every time it is called]
*   https://github.com/payara/Payara/pull/1425[PAYARA-1288 - Fix GZip compression]
*   https://github.com/payara/Payara/pull/1445[PAYARA-1289 - ClassCastException(s) with remote EJB]
*   https://github.com/payara/Payara/pull/1261[PAYARA-1290 - JNDI conflict with local data sources]
*   https://github.com/payara/Payara/pull/1522[PAYARA-1359 - Reload from admin console fails]
*   https://github.com/payara/Payara/pull/1439[PAYARA-1426 - Healthcheck service isn't dynamic on Payara Micro]
*   https://github.com/payara/Payara/pull/1428[PAYARA-1467 - The help text in the admin console is wrong for the EJB container pool]
*   https://github.com/payara/Payara/pull/1489[PAYARA-1468 - Fix "Severe: Unknow type constant pool 15 at position xxx" typo]
*   https://github.com/payara/Payara/pull/1461[PAYARA-1473 - When historicaltraceenabled is true on healthcheck-configure notifierenabled is required]
*   https://github.com/payara/Payara/pull/1412[PAYARA-1480 - Payara Web does not start]
*   https://github.com/payara/Payara/pull/1438[PAYARA-1486 - The XMPP notifier incorrectly has the attribute "roomName" instead of "roomID"]
*   https://github.com/payara/Payara/pull/1531[PAYARA-1489 - SNMP Notifier not working correctly]
*   https://github.com/payara/Payara/pull/1415[PAYARA-1492 - Payara Micro, bootstrap and jdbc resource adapters not expanded]
*   https://github.com/payara/Payara/pull/1495[PAYARA-1495 - SEVERE exception from HttpServiceStatsProviderBootstrap during startup]
*   https://github.com/payara/Payara/pull/1460[PAYARA-1501 - Illegal non String type errors when JMX accessed]
*   https://github.com/payara/Payara/pull/1432[PAYARA-1502 - Fix the assertion in OSGIObjectInputOutputStreamFactory to correctly check prefix for an array type]
*   https://github.com/payara/Payara/pull/1436[PAYARA-1503 - @Model CDI annotation is not supported by Payara Micro]
*   https://github.com/payara/Payara/pull/1449[PAYARA-1508 - Admin console login page and restart page footers have 2016 copyright]
*   https://github.com/payara/Payara/pull/1476[PAYARA-1516 - Accept env var references in values which accept multiple properties]
*   https://github.com/payara/Payara/pull/1519[PAYARA-1517 - Hazelcast uses server config rather than the specific config]
*   https://github.com/payara/Payara/pull/1482[PAYARA-1518 - PayaraInstance is not injectable in micro or server]
*   https://github.com/payara/Payara/pull/1497[PAYARA-1524 - Payara Web throws an error on startup]
*   https://github.com/payara/Payara/pull/1484[PAYARA-1525 - Remove the Password Encryption Algorithm from JDBCRealm configuration]
*   https://github.com/payara/Payara/pull/1480[PAYARA-1532 - The command list-historic-requesttraces prints redundant empty lines]
*   https://github.com/payara/Payara/pull/1475[PAYARA-1536 - Admin console healthcheck must use notiferEnabled]
*   https://github.com/payara/Payara/pull/1568[PAYARA-1537 - JSF Fileupload not working on Payara Micro]
*   https://github.com/payara/Payara/pull/1494[PAYARA-1539 - Request tracing configure notifer throws exception]
*   https://github.com/payara/Payara-API/pull/11[PAYARA-1540 - Payara API should import javax.inject]
*   https://github.com/payara/Payara/pull/1493[PAYARA-1542 - Embedded Payara Micro doesn't shut down]
*   https://github.com/payara/Payara/pull/1498[PAYARA-1543 - Have the Admin Console show "Requires Restart" when a pool is reconfigured and monitoring is enabled]
*   https://github.com/payara/Payara/pull/1524[PAYARA-1563 - Connecting via JMX with security manager enabled gives access exceptions]
*   https://github.com/payara/Payara/pull/1514[PAYARA-1565 - Payara Micro is not running Exception]
*   https://github.com/payara/Payara/pull/1523[PAYARA-1571 - Cannot create LDAP Realm properly]
*   https://github.com/payara/Payara/pull/1516[PAYARA-1577 - Race condition when initializing JAX-WS endpoints]
*   https://github.com/payara/Payara/pull/1571[PAYARA-1585 - Async servlet access is not correctly logged]
*   https://github.com/payara/Payara/pull/1540[PAYARA-1586 - logtofile for Payara Micro]
*   https://github.com/payara/Payara/pull/1543[PAYARA-1589 - jboss.classfilewriter needs to be updated after update to Weld 2.4.x]
*   https://github.com/payara/Payara/pull/1560[PAYARA-1614 - list-historic-healthchecks when historic health checks are enabled and healthcheck isn't throws NPE]
*   https://github.com/payara/Payara/pull/1564[PAYARA-1621 - --outputUberJar ignores --sslport option]
*   https://github.com/payara/Payara/pull/1575[PAYARA-1625 - Data-source from application.xml not available for JPA]
*   https://github.com/payara/Payara/pull/1590[PAYARA-1626 - Get eventbus configuration fails]
*   https://github.com/payara/Payara/pull/1587[PAYARA-1632 - Health Check shows an error when page first viewed]

== New Feature

*   https://github.com/payara/Payara/pull/1462[PAYARA-943 - Monitoring Logger needs integration with administration console]
*   https://github.com/payara/maven-plugins/pull/2[PAYARA-1152 - Create maven plugin for packaging a Payara Micro JAR]
*   https://github.com/payara/Payara/pull/1569[PAYARA-1161 - Ability to customize the contents of Payara Micro UBER jar]
*   https://github.com/payara/Payara/pull/1446[PAYARA-1395 - Enable full server to deploy applications from a maven repository like Nexus]
*   https://github.com/payara/Payara/pull/1435[PAYARA-1484 - Create notifier for DataDog]
*   https://github.com/payara/Payara/pull/1417[PAYARA-1485 - Create notifier for New Relic]
*   https://github.com/payara/Payara/pull/1505[PAYARA-1529 - Support JMS Clients and JCA MDBs in Payara Micro]
*   https://github.com/payara/Payara/pull/1537[PAYARA-1572 - Add pre- and post-boot commands to run from file]

== Improvements

*   https://github.com/payara/Payara/pull/1405[PAYARA-539 - Change self signed certs in payaradomain to Payara ones]
*   https://github.com/payara/Payara/pull/1470[PAYARA-1006 - Improvement to prevent `ClassNotFoundExceptions` on Hazelcast threads]
*   https://github.com/payara/Payara/pull/1483[PAYARA-1142 - Rename the Standalone instances page to be a general instances page]
*   https://github.com/payara/Payara/pull/1421[PAYARA-1182 - Add in a stop-domains command to asadmin]
*   https://github.com/payara/Payara/pull/1458[PAYARA-1199 - Allow disabling of IIOP-service when MDBs present]
*   https://github.com/payara/Payara/pull/1515[PAYARA-1255 - Enhance System Property Substitution on Deployment Descriptors or Annotations]
*   https://github.com/payara/Payara/pull/1570[PAYARA-1292 - Display information about REST endpoints after boot]
*   https://github.com/payara/Payara/pull/1509[PAYARA-1299 - Create a "production mode" for the admin console with a red bar or highlight as a warning]
*   https://github.com/payara/Payara/pull/1572[PAYARA-1318 - Admin Console integration for listing historical traces of Health Check]
*   https://github.com/payara/Payara/pull/1471[PAYARA-1378 - Make setting up a Hazelcast cluster from the command line easier]
*   https://github.com/payara/Payara/pull/1557[PAYARA-1382 - Admin Console integration for selecting Request Tracing Notifiers]
*   https://github.com/payara/Payara/pull/1422[PAYARA-1398 - Enable configuration of max-post-size-bytes in admin console]
*   https://github.com/payara/Payara/pull/1467[PAYARA-1404 - Deselect the Tickbox for micro instances when a command fails]
*   https://github.com/payara/Payara/pull/1541[PAYARA-1445 - Add support for CDI event bus into Web Profile server]
*   https://github.com/payara/Payara/pull/1466[PAYARA-1451 - Add support for qualifiers on Outbound and Inbound events]
*   https://github.com/payara/Payara/pull/1413[PAYARA-1461 - Refactor core server to use the new public API JAR]
*   https://github.com/payara/Payara/pull/1399[PAYARA-1471 - Clarify the default unpack behavior of Payara Micro]
*   https://github.com/payara/Payara/pull/1403[PAYARA-1475 - The email notifier in the admin console does not have very obvious field names]
*   https://github.com/payara/Payara/pull/1550[PAYARA-1487 - Expand Cluster Executor Service to use the new Clustered Scheduled Executor in HZ 3.8]
*   https://github.com/payara/Payara/pull/1437[PAYARA-1499 - Add a support element to the tree view]
*   https://github.com/payara/Payara_PatchedProjects/pull/52[PAYARA-1507 - OSGIfy hibernate-validator-cdi jar]
*   https://github.com/payara/Payara/pull/1473[PAYARA-1509 - Enable conditional access logging on PEAccessLogValve]
*   https://github.com/payara/Payara/pull/1454[PAYARA-1511 - Support environment variables as well as System Properties for Micro]
*   https://github.com/payara/Payara/pull/1539[PAYARA-1562 - Add the ability to set a different log file name to the log notifier]
*   https://github.com/payara/Payara/pull/1551[PAYARA-1566 - Fix Invocation Context Util for EJB invocations (not servlet) (CDI event bus / Hz serialization)]
*   https://github.com/payara/Payara/pull/1538[PAYARA-1573 - Support for spec data-source element without user element]
*   https://github.com/payara/Payara/pull/1557[PAYARA-1574 - Admin Console Integration for selecting Notifiers for the Healthcheck service]
*   https://github.com/payara/Payara/pull/1528[PAYARA-1578 - Incorporate improvements provided on usage of the Smack API]
*   https://github.com/payara/Payara/pull/1574[PAYARA-1628 - Remove redundant "-server" JVM option from PayaraDomain]

== Security Fixes

*   https://github.com/payara/Payara/pull/1407[PAYARA-1424 - XSS Flaw in the admin console]

== Upstream Bugs

*   https://github.com/payara/Payara/pull/1488[PAYARA-1250 - Error in Admin Console when configuring Admin Service to use SSL]
*   https://github.com/payara/Payara/pull/1433[PAYARA-1251 - JMX principal is empty when JMX is secured]
*   https://github.com/payara/Payara/pull/1576[PAYARA-1584 - @Priority Interceptor from external JAR not picked up]

== Component Upgrade

*   https://github.com/payara/Payara/pull/1343[PAYARA-1397 - Upgrade `jsftemplating` version to 2.1.2]
*   https://github.com/payara/Payara/pull/1348[PAYARA-1399 - Upgrade `Ha-api` version to 3.1.9]
*   https://github.com/payara/Payara/pull/1349[PAYARA-1400 - Upgrade `antlr` version to 2.7.7]
*   https://github.com/payara/Payara/pull/1411[PAYARA-1449 - Upgrade `Hazelcast` version to 3.8]
*   https://github.com/payara/Payara/pull/1416[PAYARA-1474 - Upgrade `Tyrus` 1.13.1]
*   https://github.com/payara/Payara/pull/1533[PAYARA-1582 - Upgrade `Weld` version to 2.4.3.Final]
*   https://github.com/payara/Payara/pull/1425[PAYARA-1441 - Upgrade `Grizzly` to 2.3.29]
